<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>event</title>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        html,body{
            width: 2000px;
            height: 2000px;
            background: seagreen;
            position: relative;
        }
        div{
            width: 100px;
            height: 100px;
            background: whitesmoke;
            position: absolute;
            left: 0;
            top:0;
        }
    </style>
</head>

<body>
<div></div>

<script>
    window.onload=function(){


    var aBody = document.getElementsByTagName("body")[0];
    var aDiv = document.getElementsByTagName("div")[0];
    aBody.onmousemove = function(ev){

        var scrolltop = document.documentElement.scrollTop||document.body.scrollTop;
        var scrollleft = document.documentElement.scrollLeft||document.body.scrollLeft;


        var oEvent = ev|| event; // event的兼容写法
        var x=oEvent.clientX-aDiv.offsetWidth/2+scrollleft;
        var y=oEvent.clientY-aDiv.offsetHeight/2+scrolltop;

//        console.log(x,y);

        var bW = aBody.offsetWidth-aDiv.offsetWidth;
        var bH = aBody.offsetHeight-aDiv.offsetHeight;
//        console.log(bW,bH);
        if(x<0){
            x=0;
        }
        if(y<0){
            y=0;
        }
        if(x>bW){
            x=bW;
        }
        if(y>bH){
            y=bH;
        }
//
//

        aDiv.style.left = x+"px";
        aDiv.style.top = y+"px";
    }
    }
</script>
</body>
</html>